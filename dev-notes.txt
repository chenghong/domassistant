	/*
		Find tag name, id character and id or an *
		^(\w+)?(#[\w\-_]+|\*)?
	
		Find one or several class name
		((\.[\w\-_]+)*)?
	
		Find one or several attributes, eventual substring match selector and attribute values
		((\[(\w+)(\^|\$|\*)?=?([\w\-\_]+)?
	
		Find one or several attribute values:
		((\[\w+(\^|\$|\*)?=?[\w\-\_]+?\]+)*)?
	
		Find the pseudo-class and its value:
		(((:\w+[\w\-]*)(\((odd|even|\d+n?((\+|\-)\d+)?|\w+|(\[\w+(\^|\$|\*)?=?[\w\-\_]+?\]+))\))?)*)?
	
			where:
	
			Digit value, eventual n value, eventual operator and operand values
			\d+n?((\+|\-)\d+)?
	
		Find not value, in form of a tag name or attribute selector
		\w+|(\[\w+(\^|\$|\*)?=?[\w\-\_]+?\]+)
	*/
	
Complicated regexp:
	var cssSelector = /^(\w+)?(#([\w\-_]+)|\*)?((\.([\w\-_]+))*)?((\[(\w+)(\^|\$|\*)?=?([\w\-\_]+)?\]+)*)?(:(\w+[\w\-]*)(\((((odd|even)|(\d+)(n?)((\+|\-)(\d+))?)|(\w+)|\[(\w+)(\^|\$|\*)?=?([\w\-\_]+)?\]+)\))?)?/.exec(rule);
	
Simplified regexp:
	var cssSelector = /^(\w+)?(#[\w\-_]+|\*)?((\.[\w\-_]+)*)?((\[\w+(\^|\$|\*)?=?[\w\-\_]+?\]+)*)?(((:\w+[\w\-]*)(\((odd|even|\d+n?((\+|\-)\d+)?|\w+|(\[\w+(\^|\$|\*)?=?[\w\-\_]+?\]+))\))?)*)?/.exec(rule);


tag : (!cssSelector[1] || cssSelector[2] === "*")? "*" : cssSelector[1], // tag name								
id : (cssSelector[2] !== "*")?  cssSelector[2] : null, // id
allClasses : cssSelector[3], // All classes, preceded by a .
allAttr : cssSelector[5], // All attributes, with [ ]
pseudoClass : cssSelector[10], // Pseudo-class
pseudoValue : cssSelector[12] // Pseudo-class parentheses first value (digit, odd or even)

var values = "";
for (var b=0; b<cssSelector.length; b++) {
	values += b + ": " + cssSelector[b] + "\n";
}
alert(values);

/* 
	#container
	.item
	#container.item
	p.info.error
	div p
	div > p
	div + p
	div ~ p
	[id]
	[id=container]
	[type=text][value=Yes]
	[id^=empt]
	[id$=parent]
	[id*=mpt]
	div:first-child
	div:last-child
	div:only-child
	div#container p:first-of-type
	div#container p:last-of-type
	p:only-of-type
	div#container p:nth-of-type(7)
	div#container p:nth-last-of-type(2)
	div:empty
	div:not([id=container]
	div:nth-child(3)
	div:nth-child(odd)
	div:nth-child(even)
	div:nth-child(n5+3)
	input:enabled
	input:disabled
	input:checked
	p, a
*/