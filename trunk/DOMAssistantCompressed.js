// Developed by Robert Nyman, code/licensing: http://code.google.com/p/domassistant/, documentation: http://www.robertnyman.com/domassistant
var DOMAssistant=function(){var A=function(E){};var C=document.all&&!/Opera/i.test(navigator.userAgent);var B=/Opera/i.test(navigator.userAgent);var D=[];return{publicMethods:["elmsByClass","elmsByAttribute","elmsByTag"],initCore:function(){this.applyMethod.call(window,"$",this.$);window.DOMAssistant=this;if(C){A=Array;}A.prototype=[];A.prototype.each=function(G){for(var F=0,E=this.length;F<E;F++){G.call(this[F]);}return this;};A.prototype.end=function(){return this.previousSet;};this.attach(this);},addMethods:function(E,F){D.push([E,F]);this.addHTMLArrayPrototype(E,F);},addMethodsToElm:function(G){for(var F=0,E=D.length;F<E;F++){this.applyMethod.call(G,D[F][0],D[F][1]);}},applyMethod:function(F,E){if(typeof this[F]!=="function"){this[F]=E;}},attach:function(I){var E=I.publicMethods;if(typeof E==="undefined"){var G;for(var K in I){if(typeof I[K]!=="undefined"){this.addMethods(K,I[K]);}}}else{if(E.constructor===Array){for(var H=0,F=E.length,J;H<F;H++){J=E[H];this.addMethods(J,I[J]);}}}if(typeof I.init==="function"){I.init();}},createHTMLArray:function(){return new A();},addHTMLArrayPrototype:function(E,F){A.prototype[E]=function(){var K=new A();K.previousSet=this;var L;for(var J=0,G=this.length;J<G;J++){L=F.apply(this[J],arguments);if(L!==null&&L.constructor===Array){for(var H=0,I=L.length;H<I;H++){K.push(L[H]);}}else{K.push(L);}}return K;};},$:function(){var I=new A();if(document.getElementById){var E=arguments[0];if(typeof E==="string"){E=E.replace(/^[^#]*(#)/,"$1");if(/^#[\w\-\_]+$/.test(E)){var H=document.getElementById(E.substr(1));if(H){I=H;DOMAssistant.addMethodsToElm(I);}}else{I=DOMAssistant.cssSelection(E);}}else{if(typeof E==="object"){if(arguments.length===1){I=E;DOMAssistant.addMethodsToElm(I);}else{for(var G=0,F=arguments.length;G<F;G++){I.push(arguments[G]);}}}}}return I;},cssSelection:function(E){if(document.evaluate&&!B){DOMAssistant.cssSelection=function(Y){var O=Y.replace(/\s*(,)\s*/g,"$1").split(",");var M=new A();var b,I,f,W,K,L,P,c;var G=/^(\w+)?(#[\w\-_]+|\*)?((\.[\w\-_]+)*)?((\[\w+(\^|\$|\*)?=?[\w\-\_]+\]+)*)?(((:\w+[\w\-]*)(\((odd|even|\d+n?((\+|\-)\d+)?|\w+|((\w*\.[\w\-_]+)*)?|(\[#?\w+(\^|\$|\*)?=?[\w\-\_]+\]+))\))?)*)?(>|\+|~)?/;for(var Z=0,Q=O.length;Z<Q;Z++){b=O[Z];if(Z>0){I=false;for(var R=0,T=Z;R<T;R++){if(O[Z]===O[R]){I=true;break;}}if(I){continue;}}f=b.split(" ");W=".";for(var X=0,a=f.length;X<a;X++){K=G.exec(f[X]);L={tag:(!K[1]||K[2]==="*")?"*":K[1],id:(K[2]!=="*")?K[2]:null,allClasses:K[3],allAttr:K[5],pseudoClass:K[10],pseudoValue:K[12],tagRelation:K[19]};if(L.tagRelation){switch(L.tagRelation){case">":W+="/child::";break;case"+":W+="/following-sibling::*[1]/self::";break;case"~":W+="/following-sibling::";break;}}else{W+=(X>0&&/(>|\+|~)/.test(f[X-1]))?L.tag:("//"+L.tag);}if(L.id){W+="[@id = '"+L.id.replace(/^#/,"")+"']";}if(L.allClasses){W+=L.allClasses.replace(/\.([\w\-_]+)/g,"[contains(concat(' ', @class, ' '), ' $1 ')]");}if(L.allAttr){W+=L.allAttr.replace(/(\w+)(\^|\$|\*)?=?([\w\-_]+)?/g,function(g,l,k,j,i){var h=g;switch(k){case"^":h="starts-with(@"+l+", '"+j+"')";break;case"$":h="substring(@"+l+", (string-length(@"+l+") - "+(j.length-1)+"), 6) = '"+j+"'";break;case"*":h="contains(concat(' ', @"+l+", ' '), '"+j+"')";break;default:h="@"+l+((j)?"='"+j+"'":"");}return h;});}if(L.pseudoClass){var J=L.pseudoValue;switch(L.pseudoClass.replace(/^:/,"")){case"first-child":W+="[1 and not(preceding-sibling::*)]";break;case"first-of-type":W+="[1]";break;case"last-child":W+="[last() and not(following-sibling::*)]";break;case"last-of-type":W+="[last()]";break;case"only-child":W+="[1 and not(preceding-sibling::*) and not(following-sibling::*)]";break;case"only-of-type":W+="[count(preceding-sibling::"+L.tag+") = 0 and position() = last()]";break;case"nth-of-type":W+="["+J+"]";break;case"nth-last-of-type":W+="[last() - "+J+"]";break;case"empty":W+="[count(child::*) = 0 and string-length(text()) = 0]";break;case"contains":W+="[contains(., '"+J+"')]";break;case"enabled":W+="[not(@disabled)]";break;case"disabled":W+="[@disabled]";break;case"checked":W+="[@checked='checked']";break;case"nth-child":var F="[";if(/^\d+$/.test(J)){F+="position() = "+J;}else{if(/^n$/.test(J)){F="";}else{if(/^odd$/.test(J)){J="2n+1";}else{if(/^even$/.test(J)){J="2n+0";}}var e=/^(\d+)n((\+|\-)(\d+))?$/.exec(J);var N=parseInt(e[1],10);var d=0;if(e[3]&&e[4]){d=parseInt((e[3]+e[4]),10);if(d<0){d=N+d;}}F+="(count(./preceding-sibling::*) + 1)";if(N<d){var S=((d-N)%2===0)?0:1;F+=" mod "+N+" = "+S+" and position() > "+d;}else{if(d===N){F+=" mod "+N+" = 0";}else{F+=" mod "+N+" = "+d;}}}}if(!/^n$/.test(J)){F+="]";}W+=F;break;case"not":J=J.replace(/^\[#([\w\-\_]+)\]$/,"[id=$1]");var H=J.replace(/^(\w+)/,"self::$1");H=H.replace(/\.([\w\-_]+)/g,"contains(concat(' ', @class, ' '), ' $1 ')");H=H.replace(/\[(\w+)(\^|\$|\*)?=?([\w\-_]+)?\]/g,function(g,l,k,j,i){var h=g;switch(k){case"^":h="starts-with(@"+l+", '"+j+"')";break;case"$":h="substring(@"+l+", (string-length(@"+l+") - "+(j.length-1)+"), 6) = '"+j+"'";break;case"*":h="contains(concat(' ', @"+l+", ' '), '"+j+"')";break;default:h="@"+l+((j)?"='"+j+"'":"");}return h;});W+="[not("+H+")]";break;}}}var V=document.evaluate(W,document,null,0,null);var U=V.iterateNext();while(U){M.push(U);U=V.iterateNext();}}return M;};}else{DOMAssistant.cssSelection=function(F){var Bb=F.replace(/\s*(,)\s*/g,"$1").split(",");var BO=new A();var A7=new A();var Ba=new A();var Bo,h,Ag,Y,AP,BD,J,Q,A2,Ae,Bm,Ao,S,AE,BA,BN,f,c,AI,BG,Ax;var BW=/^(>|\+|~)$/;var AC=/^(\w+)?(#[\w\-_]+|\*)?((\.[\w\-_]+)*)?((\[\w+(\^|\$|\*)?=?[\w\-\_]+\]+)*)?(((:\w+[\w\-]*)(\((odd|even|\d*n?((\+|\-)\d+)?|\w+|((\w*\.[\w\-_]+)*)?|(\[#?\w+(\^|\$|\*)?=?[\w\-\_]+\]+))\))?)*)?/;var H;function Bh(){for(var b=0,a=A7.length;b<a;b++){A7[b].added=false;}}function X(){for(var b=0,a=Bo.length;b<a;b++){Bo[b].childElms=null;}}function Z(b,a){if(C){switch(a){case"id":return b.id;case"for":return b.htmlFor;case"class":return b.className;}}return b.getAttribute(a,2);}for(var Au=0,BH=Bb.length;Au<BH;Au++){h=Bb[Au];if(Au>0){Ag=false;for(var At=0,Ay=Au;At<Ay;At++){if(Bb[Au]===Bb[At]){Ag=true;break;}}if(Ag){continue;}}Y=h.split(" ");A7=[];A7.push(document);for(var Ap=0,AS=Y.length;Ap<AS;Ap++){var e=Y[Ap];Ba=[];if(Ap>0&&BW.test(e)){AP=BW.exec(e);if(AP){BD=/^\w+/.exec(Y[Ap+1]);if(BD){J=new RegExp("(^|\\s)"+BD+"(\\s|$)","i");Q=AP[0];if(Q===">"){for(var An=0,d=A7.length,BS;An<d;An++){BS=A7[An].childNodes;for(var Ak=0,M=BS.length;Ak<M;Ak++){if(J.test(BS[Ak].nodeName)){Ba.push(BS[Ak]);}}}}else{if(Q==="+"){for(var Aj=0,Bf=A7.length;Aj<Bf;Aj++){Ae=A7[Aj].nextSibling;while(Ae&&Ae.nodeType!==1){Ae=Ae.nextSibling;}if(Ae){if(J.test(Ae.nodeName)){Ba.push(Ae);}}}}else{if(Q==="~"){for(var Af=0,BP=A7.length;Af<BP;Af++){Ae=A7[Af].nextSibling;while(Ae&&Ae.nodeType!==1){Ae=Ae.nextSibling;}while(Ae){if(!Ae.added&&J.test(Ae.nodeName)){Ae.added=true;Ba.push(Ae);}Ae=Ae.nextSibling;}}Bh();}}}}}A7=Ba;Ap=Ap+1;}else{var BC=AC.exec(e);var BU={tag:(!BC[1]||BC[2]==="*")?"*":BC[1],id:(BC[2]!=="*")?BC[2]:null,allClasses:BC[3],allAttr:BC[5],pseudoClass:BC[10],pseudoValue:BC[12]};if(BU.id){Ba.push(document.getElementById(BU.id.replace(/#/,"")));A7=Ba;}else{if(BU.tag){var BM;for(var Ad=0,A3=A7.length;Ad<A3;Ad++){BM=A7[Ad].getElementsByTagName(BU.tag);for(var Aa=0,Ab=BM.length;Aa<Ab;Aa++){if(!BM[Aa].added){BM[Aa].added=true;Ba.push(BM[Aa]);}}}A7=Ba;Bh();}}if(BU.allClasses){BU.allClasses=BU.allClasses.replace(/^\./,"").split(".");var Ah=[];for(var AY=0,g=Ba.length,BK;AY<g;AY++){Ao=Ba[AY];if(!Ao.added){BA=false;BK=Ao.className;for(var AX=0,P=BU.allClasses.length,AA,Ar;AX<P;AX++){AA=new RegExp("(^|\\s)"+BU.allClasses[AX].replace(/\./,"")+"(\\s|$)");BA=AA.test(BK);if(!BA){break;}}}if(BA){Ao.added=true;Ah.push(Ao);}}Bh();Ba=Ah;A7=Ba;}if(BU.allAttr){BU.allAttr=BU.allAttr.replace(/(\])(\[)/,"$1 $2").split(" ");var Ai=[];var I=/(\w+)(\^|\$|\*)?=?([\w\-_]+)?/;for(var AW=0,Bj=Ba.length,As,L;AW<Bj;AW++){Ao=Ba[AW];if(!Ao.added){for(var AU=0,BT=BU.allAttr.length,AV,AL,Bg,N,A9;AU<BT;AU++){BA=false;AV=I.exec(BU.allAttr[AU]);L=AV[3]||null;Bg=(L)?("^"+L+"$"):null;A9=AV[2]||null;if(typeof A9==="string"){switch(A9){case"^":Bg=("^"+L);break;case"$":Bg=(L+"$");break;case"*":Bg=(L);break;}}var BL=(Bg)?new RegExp(Bg):null;As=Z(Ao,AV[1]);if(typeof As==="string"&&As.length>0){if(!BL||typeof BL==="undefined"||(BL&&BL.test(As))){BA=true;}}if(!BA){continue;}}if(BA){Ai.push(Ao);}}}Bh();Ba=Ai;A7=Ba;}if(BU.pseudoClass){var AG=BU.pseudoClass;var Bd=BU.pseudoValue;var BR=Ba;Ba=[];Bo=[];if(/^:not$/.test(AG)){Bd=Bd.replace(/^\[#([\w\-\_]+)\]$/,"[id=$1]");var AH=/^(\w+)/.exec(Bd);var Az=/\.([\w\-_]+)/.exec(Bd);var Aw=/\[(\w+)(\^|\$|\*)?=?([\w\-_]+)?\]/.exec(Bd);var Be=new RegExp("(^|\\s)"+((AH)?AH[1]:(Az)?Az[1]:"")+"(\\s|$)","i");if(Aw){var Bc=Aw[3];var BY="^"+Aw[3]+"$";var AD=Aw[2];if(typeof AD==="string"){switch(AD){case"^":BY=("^"+Bc);break;case"$":BY=(Bc+"$");break;case"*":BY=(Bc);break;}}Be=new RegExp(BY,"i");}for(var AR=0,A6=BR.length,G;AR<A6;AR++){G=BR[AR];BA=null;if(AH&&!Be.test(G.nodeName)){BA=G;}else{if(Az&&!Be.test(G.className)){BA=G;}else{if(Aw){if(!Z(G,Aw[1])||!Be.test(Z(G,Aw[1]))){BA=G;}}}}if(BA&&!BA.added){BA.added=true;Ba.push(BA);}}A7=Ba;}else{if(/first-child/.test(AG)){for(var AQ=0,Am=BR.length;AQ<Am;AQ++){S=BR[AQ];AE=S.parentNode;BN=AE.firstChild;while(BN.nodeType!==1&&BN.nextSibling){BN=BN.nextSibling;}if(BN===S){Ba.push(S);}}A7=Ba;}else{if(/last-child/.test(AG)){for(var AO=0,AB=BR.length;AO<AB;AO++){S=BR[AO];AE=S.parentNode;f=AE.lastChild;while(f.nodeType!==1&&f.previousSibling){f=f.previousSibling;}if(f===S){Ba.push(S);}}A7=Ba;}else{if(/only-child/.test(AG)){for(var AN=0,T=BR.length;AN<T;AN++){S=BR[AN];AE=S.parentNode;BN=AE.firstChild;while(BN.nodeType!==1&&BN.nextSibling){BN=BN.nextSibling;}f=AE.lastChild;while(f.nodeType!==1&&f.previousSibling){f=f.previousSibling;}if(BN===S&&f===S){Ba.push(S);}}A7=Ba;}else{if(/nth-child/.test(AG)){if(/^\d+$/.test(Bd)){var A8=parseInt(Bd,10);for(var AM=0,Bl=BR.length,U;AM<Bl;AM++){U=0;S=BR[AM];AE=S.parentNode;AI=AE.firstChild;if(AI.nodeType===1){U=U+1;}while(U<A8&&AI.nextSibling){AI=AI.nextSibling;if(AI.nodeType===1){U=U+1;}}if(U===A8&&AI&&!AI.added&&(AI.nodeName===S.nodeName)){AI.added=true;Ba.push(S);}}Bh();}else{if(/^n$/.test(Bd)){for(var AK=0,BV=BR.length;AK<BV;AK++){Ba.push(BR[AK]);}}else{var BZ=/^(odd|even)|(\d+)n((\+|\-)(\d+))?$/.exec(Bd);var A0=parseInt(BZ[2],10);var W=(BZ[1]==="even")?1:0;var AZ=2;if(A0>0){AZ=A0;var R=(BZ[4])?parseInt((BZ[4]+BZ[5]),10):0;W=R-1;}for(var AJ=0,BB=BR.length;AJ<BB;AJ++){S=BR[AJ];AE=S.parentNode;if(!AE.childElms){BG=AE.childNodes;Ax=[];var K=AE.firstChild;if(K.nodeType===1){Ax.push(K);}while(K&&K.nextSibling){K=K.nextSibling;if(K.nodeType===1){Ax.push(K);}}AE.childElms=Ax;Bo.push(AE);}else{Ax=AE.childElms;}for(var A1=W,BX=Ax.length;A1<BX;A1=A1+AZ){if(A1<0){continue;}Ao=Ax[A1];if(!Ao.added&&Ao.nodeName===S.nodeName){Ao.added=true;Ba.push(S);}}}Bh();X();}}A7=Ba;}else{if(/first-of-type/.test(AG)){for(var BQ=0,Av=BR.length;BQ<Av;BQ++){S=BR[BQ];AE=S.parentNode;c=AE.getElementsByTagName(S.nodeName);BN=c[0];if(BN===S){Ba.push(S);}}A7=Ba;}else{if(/last-of-type/.test(AG)){for(var BF=0,Ac=BR.length;BF<Ac;BF++){S=BR[BF];AE=S.parentNode;c=AE.getElementsByTagName(S.nodeName);f=c[c.length-1];if(f===S){Ba.push(S);}}A7=Ba;}else{if(/only-of-type/.test(AG)){for(var Aq=0,A5=BR.length;Aq<A5;Aq++){S=BR[Aq];AE=S.parentNode;c=AE.getElementsByTagName(S.nodeName);BN=c[0];f=c[c.length-1];if(BN===S&&f===S){Ba.push(S);}}A7=Ba;}else{if(/empty/.test(AG)){for(var Bi=0,BI=BR.length;Bi<BI;Bi++){S=BR[Bi];AE=S.parentNode;BG=AE.childNodes;if(BG.length===0){Ba.push(S);}}A7=Ba;}else{if(/enabled/.test(AG)){for(var BJ=0,AT=BR.length;BJ<AT;BJ++){S=BR[BJ];if(!S.disabled){Ba.push(S);}}A7=Ba;}else{if(/disabled/.test(AG)){for(var O=0,A4=BR.length;O<A4;O++){S=BR[O];if(S.disabled){Ba.push(S);}}A7=Ba;}else{if(/checked/.test(AG)){for(var Al=0,Bk=BR.length;Al<Bk;Al++){S=BR[Al];if(S.checked){Ba.push(S);}}A7=Ba;}else{if(/contains/.test(AG)){for(var BE=0,V=BR.length;BE<V;BE++){S=BR[BE];if(!S.added){if(new RegExp("(^|\\s)"+Bd+"(\\s|$)").test(S.innerHTML)){S.added=true;Ba.push(S);}}}Bh();A7=Ba;}}}}}}}}}}}}}}}}for(var AF=0,Bn=A7.length;AF<Bn;AF++){BO.push(A7[AF]);}}return BO;};}return DOMAssistant.cssSelection.call(this,E);},elmsByClass:function(F,E){if(false&&document.evaluate&&!B){DOMAssistant.elmsByClass=function(I,G){var H=new A();var K=document.evaluate(".//"+((typeof G==="string")?G:"*")+"[contains(concat(' ', @class, ' '), ' "+I+" ')]",this,null,0,null);var J=K.iterateNext();while(J){H.push(J);J=K.iterateNext();}return H;};}else{DOMAssistant.elmsByClass=function(M,G){var J=new A();var L;if(G&&typeof G==="object"){L=(G.constructor===Array)?G:[G];}else{L=this.getElementsByTagName(G||"*");}var I=new RegExp("(^|\\s)"+M+"(\\s|$)");for(var K=0,N,H=L.length;K<H;K++){N=L[K];if(I.test(N.className)){J.push(N);}}return J;};}return DOMAssistant.elmsByClass.call(this,F,E);},elmsByAttribute:function(F,G,E,H){if(document.evaluate&&!B){DOMAssistant.elmsByAttribute=function(J,K,I,M){var L=new A();var O="@"+J+((typeof K==="undefined"||K==="*")?"":" = '"+K+"'");if(typeof M==="string"){switch(M){case"^":O="starts-with(@"+J+", '"+K+"')";break;case"$":O="substring(@"+J+", (string-length(@"+J+") - "+(K.length-1)+"), 6) = '"+K+"'";break;case"*":O="contains(concat(' ', @"+J+", ' '), '"+K+"')";break;}}var P=document.evaluate(".//"+((typeof I==="string")?I:"*")+"["+O+"]",this,null,0,null);var N=P.iterateNext();while(N){L.push(N);N=P.iterateNext();}return L;};}else{DOMAssistant.elmsByAttribute=function(Q,P,T,L){var I=new A();if(window.ActiveXObject&&document.all){Q=Q.replace(/class/,"className");}var J=(typeof P==="undefined")?null:("(^|\\s)"+P+"(\\s|$)");if(typeof L==="string"){switch(L){case"^":J=("^"+P);break;case"$":J=(P+"$");break;case"*":J=(P);break;}}var S=new RegExp(J);var K;if(T&&typeof T==="object"){K=(T.constructor===Array)?T:[T];}else{K=this.getElementsByTagName(T||"*");}for(var M=0,R=K.length,O,N;M<R;M++){O=K[M];N=O.getAttribute(Q,2);if(typeof N==="string"&&N.length>0){if(!S||typeof S==="undefined"||(S&&S.test(N))){I.push(O);}}}return I;};}return DOMAssistant.elmsByAttribute.call(this,F,G,E,H);},elmsByTag:function(E){if(false&&document.evaluate&&!B){DOMAssistant.elmsByTag=function(F){var G=new A();var I=document.evaluate(".//"+((typeof F==="string")?F:"*"),this,null,0,null);var H=I.iterateNext();while(H){G.push(H);H=I.iterateNext();}return G;};}else{DOMAssistant.elmsByTag=function(F){var H=new A();var J=this.getElementsByTagName(F);for(var I=0,G=J.length;I<G;I++){H.push(J[I]);}return H;};}return DOMAssistant.elmsByTag.call(this,E);}};}();DOMAssistant.initCore();DOMAssistant.AJAX=function(){var A=null;return{publicMethods:["get","post","load","replaceWithAJAXContent"],initRequest:function(){var B=null;if(typeof XMLHttpRequest!=="undefined"){B=new XMLHttpRequest();}else{if(typeof window.ActiveXObject!=="undefined"){try{B=new window.ActiveXObject("Msxml2.XMLHTTP.4.0");}catch(E){try{B=new window.ActiveXObject("MSXML2.XMLHTTP");}catch(D){try{B=new window.ActiveXObject("Microsoft.XMLHTTP");}catch(C){B=null;}}}}}return B;},get:function(C,D,B){return DOMAssistant.AJAX.makeCall.call(this,C,D,"GET",B);},post:function(B,C){return DOMAssistant.AJAX.makeCall.call(this,B,C,"POST");},load:function(B,C){DOMAssistant.AJAX.get.call(this,B,DOMAssistant.AJAX.replaceWithAJAXContent,(C||false));},makeCall:function(D,E,G,C){var B=DOMAssistant.AJAX.initRequest();if(B){A=B;var F=function(M){var L=D.split("?");var I=(G==="POST")?L[0]:D;B.open(G,I,true);B.setRequestHeader("AJAX","true");var K=null;if(G==="POST"){var J=L[1];var H=(J)?J.length:0;K=J;B.setRequestHeader("Content-type","application/x-www-form-urlencoded");B.setRequestHeader("Content-length",H);B.setRequestHeader("Connection","close");}if(typeof E==="function"){B.onreadystatechange=function(){if(B.readyState===4){E.call(M,B.responseText,C);}};}B.send(K);}(this);}return this;},replaceWithAJAXContent:function(F,J){if(J){this.innerHTML+=F;}else{var B=this.elmsByTag("*");for(var E=0,I=B.length,H,G;E<I;E++){H=B[E];G=H.attributes;if(G){for(var C=0,D=G.length;C<D;C++){if(typeof H[G[C].name]==="function"){H[G[C].name]=null;}}}}this.innerHTML=F;}},getReadyState:function(){return(A&&typeof A.readyState!=="undefined")?A.readyState:null;},getStatus:function(){var B=-1;if(A&&typeof A.readyState!=="undefined"&&A.readyState===4){B=A.status;}return B;},getStatusText:function(){var B="";if(A&&typeof A.readyState!=="undefined"&&A.readyState===4){B=A.statusText;}return B;}};}();DOMAssistant.attach(DOMAssistant.AJAX);DOMAssistant.CSS=function(){return{addClass:function(B){var A=this.className;if(!new RegExp(("(^|\\s)"+B+"(\\s|$)"),"i").test(A)){this.className=A+((A.length>0)?" ":"")+B;}return this;},removeClass:function(B){var A=new RegExp(("(^|\\s)"+B+"(\\s|$)"),"i");this.className=this.className.replace(A,function(C){var D="";if(new RegExp("^\\s+.*\\s+$").test(C)){D=C.replace(/(\s+).+/,"$1");}return D;}).replace(/^\s+|\s+$/g,"");return this;},replaceClass:function(B,C){var A=new RegExp(("(^|\\s)"+B+"(\\s|$)"),"i");this.className=this.className.replace(A,function(D,G,F){var E=G+C+F;if(new RegExp("^\\s+.*\\s+$").test(D)){E=D.replace(/(\s+).+/,"$1");}return E;}).replace(/^\s+|\s+$/g,"");return this;},hasClass:function(A){return new RegExp(("(^|\\s)"+A+"(\\s|$)"),"i").test(this.className);},getStyle:function(B){var A="";if(document.defaultView&&document.defaultView.getComputedStyle){A=document.defaultView.getComputedStyle(this,"").getPropertyValue(B);}else{if(this.currentStyle){A=B.replace(/\-(\w)/g,function(C,D){return D.toUpperCase();});A=this.currentStyle[A];}}return A;}};}();DOMAssistant.attach(DOMAssistant.CSS);DOMAssistant.Content=function(){return{prev:function(){var A=this.previousSibling;while(A&&A.nodeType!==1){A=A.previousSibling;}return A;},next:function(){var A=this.nextSibling;while(A&&A.nodeType!==1){A=A.nextSibling;}return A;},create:function(C,B,A,D){var E=DOMAssistant.$(document.createElement(C));if(B){E.setAttributes(B);}if(typeof D!=="undefined"){E.addContent(D);}if(A){DOMAssistant.Content.addContent.call(this,E);}return E;},setAttributes:function(A){for(var B in A){if(/class/i.test(B)){this.className=A[B];}else{this.setAttribute(B,A[B]);}}return this;},addContent:function(A){var B=this;if(typeof A==="string"){this.innerHTML+=A;}else{B=this.appendChild(A);}return B;},replaceContent:function(B){for(var E=(this.childNodes.length-1),F,A;E>=0;E--){F=this.childNodes[E];A=F.attributes;if(A){for(var C=0,D=A.length;C<D;C++){if(typeof F[A[C].name]==="function"){F[A[C].name]=null;}}}F.parentNode.removeChild(F);}DOMAssistant.$(this).addContent(B);return this;},remove:function(){this.parentNode.removeChild(this);return null;}};}();DOMAssistant.attach(DOMAssistant.Content);DOMAssistant.Events=function(){return{publicMethods:["addEvent","removeEvent","preventDefault","cancelBubble"],init:function(){window.addEvent=this.addEvent;window.removeEvent=this.removeEvent;DOMAssistant.preventDefault=this.preventDefault;DOMAssistant.cancelBubble=this.cancelBubble;},addEvent:function(B,C){var A=(/^DOM/.test(B));if(A){if(this.addEventListener){this.addEventListener(B,C,false);}}else{if(!this.events){this.events={};}if(!this.events[B]){this.events[B]=[];}this.events[B].push(C);this["on"+B]=DOMAssistant.Events.handleEvent;if(typeof this.window==="object"){this.window["on"+B]=DOMAssistant.Events.handleEvent;}}return this;},handleEvent:function(A){var G=A||event;var H=G.target||G.srcElement||document;while(H.nodeType!==1&&H.parentNode){H=H.parentNode;}G.eventTarget=H;var E=G.type;var B=this.events[E];var F=B.length;var D;for(var C=0;C<F;C++){D=B[C].call(this,G);if(C===(F-1)){return D;}}},removeEvent:function(A,D){var B=this.events[A];for(var C=0;C<B.length;C++){if(B[C]===D){delete B[C];B.splice(C,1);}}return this;},preventDefault:function(A){if(A&&A.preventDefault){DOMAssistant.Events.preventDefault=function(B){B.preventDefault();};}else{DOMAssistant.Events.preventDefault=function(B){event.returnValue=false;};}return DOMAssistant.Events.preventDefault(A);},cancelBubble:function(A){if(A&&A.stopPropagation){DOMAssistant.Events.cancelBubble=function(B){B.stopPropagation();};}else{DOMAssistant.Events.cancelBubble=function(B){event.cancelBubble=true;};}return DOMAssistant.Events.cancelBubble(A);}};}();DOMAssistant.attach(DOMAssistant.Events);DOMAssistant.DOMLoad=function(){var DOMLoaded=false;var DOMLoadTimer=null;var functionsToCall=[];var execFunctions=function(){if(DOMLoaded){clearInterval(DOMLoadTimer);}for(var i=0,il=functionsToCall.length;i<il;i++){try{functionsToCall[i]();}catch(e){}}};var DOMHasLoaded=function(){if(DOMLoaded){return ;}DOMLoaded=true;execFunctions();};/*@cc_on @*//*@if (@_win32)
		if (document.getElementById) {
			document.write("<script id=\"ieScriptLoad\" defer src=\"//:\"><\/script>");
		    document.getElementById("ieScriptLoad").onreadystatechange = function() {
		        if (this.readyState === "complete") {
		            DOMHasLoaded();
		        }
		    };
		}
	/*@end @*/if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMHasLoaded,false);}if(navigator.userAgent.search(/WebKit/i)!==-1){DOMLoadTimer=setInterval(function(){if(document.readyState.search(/loaded|complete/i)!==-1){var loaded=new DOMHasLoaded();}},10);}window.onload=DOMHasLoaded;return{DOMReady:function(){for(var i=0,il=arguments.length,func,callFunc;i<il;i++){func=arguments[i];callFunc=(typeof func==="function")?func:new Function(func);functionsToCall.push(callFunc);}}};}();DOMAssistant.DOMReady=DOMAssistant.DOMLoad.DOMReady;